# Patricio Gonzalez Vivo - 2016

import: ../functions/aastep.yaml

styles:
    lines-outline:
        doc:
            description: |
                Apply an outline to a line
            examples:
                blueprint:
                    url: https://tangrams.github.io/tangram-sandbox/styles/blueprint.yaml
                    img: https://tangrams.github.io/tangram-sandbox/styles/blueprint.png
                    lines: 116-120
                callejas:
                    url: https://tangrams.github.io/tangram-sandbox/styles/callejas.yaml
                    img: https://tangrams.github.io/tangram-sandbox/styles/callejas.png
                    lines: 116
        base: lines
        mix: functions-aastep
        texcoords: true
        shaders:
            defines:
                OUTLINE_WIDTH: 0.1
                OUTLINE_COLOR: vec3(1.)
            blocks:
                color: |
                    color.rgb = mix(color.rgb,
                                    OUTLINE_COLOR,
                                    (1.0-(aastep(OUTLINE_WIDTH,v_texcoord.x)-step(1.0-OUTLINE_WIDTH,v_texcoord.x))));