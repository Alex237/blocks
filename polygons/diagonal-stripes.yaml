import:
    - ../space/tile.yaml
    - ../patterns/stripes.yaml

styles:
    polygons-diagonal-stripes:
        base: polygons
        mix: [patterns-stripes, space-tile]
        shaders:
            defines:
                STRIPES_IN: 3.
                STRIPES_OUT: 16.
                STRIPES_MAX_ZOOM: 20.
                STRIPES_ALPHA: .5
                STRIPES_SCALE: 2.
                # higher value increases the no. of lines, and width gets thinner
                STRIPES_MIN: .9
                #spacing between lines? anything over 1.0 makes the lines disappear
                STRIPES_MAX: -.2
            blocks:
                color: |
                    color.a = diagonalStripes(  (getTileCoords()*0.707)*(STRIPES_SCALE), 
                                                mix(STRIPES_MIN,
                                                    STRIPES_MAX,
                                                    clamp( smoothstep(  STRIPES_IN/STRIPES_MAX_ZOOM, 
                                                                        STRIPES_OUT/STRIPES_MAX_ZOOM, 
                                                                        max(u_map_position.z/STRIPES_MAX_ZOOM, 0.) * 0.9), 
                                                            0., 1.))) * STRIPES_ALPHA;